<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: formTools/radioOptionSelection.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: formTools/radioOptionSelection.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Generates custom-styled radio options wrapped in structured HTML.
 *
 * Each option is rendered as a custom block with optional icons and toggle visuals.
 * Only one option can be selected at a time. If multiple options are marked as selected,
 * only the first will be retained.
 *
 * If either `label` or `value` is missing in an option, the other will be used as a fallback.
 * An error is thrown if both are missing.
 *
 * @param {string} name - The name of the radio group. Used as the name attribute of the hidden input.
 * @param {Array&lt;Object>} options - Array of option objects for each radio choice.
 * @param {string} [options[].label] - The display label for the radio option. Used as fallback for value if value is not provided.
 * @param {string} [options[].value] - The value for the option. Used as fallback for label if label is not provided.
 * @param {string} [options[].icon] - Optional icon class to display (e.g., FontAwesome class).
 * @param {boolean} [options[].selected=false] - Whether the option is selected by default.
 * @param {Array&lt;{name: string, value: string}>} [options[].attributes] - Additional HTML attributes for the option container.
 * @param {Object} [attributes={}] - Additional HTML attributes for the outer `_form_group` container.
 * @returns {string} - HTML markup representing the custom radio option group.
 */
export function generateRadioOptions(name, options = [], attributes = {}) {
    const containerAttributes = {
        class: '_form_group',
        ...attributes
    };

    let selectedFound = false;
    options.forEach(option => {
        if (option.selected &amp;&amp; selectedFound) {
            option.selected = false;
        }
        if (option.selected) {
            selectedFound = true;
        }

        if (!option.label &amp;&amp; !option.value) {
            throw new Error("Each option must have at least a 'label' or 'value'");
        }

        if (!option.label) {
            option.label = option.value;
        }

        if (!option.value) {
            option.value = option.label;
        }
    });

    let output = `&lt;div ${generateAttributes(containerAttributes)}>`;
    output += `&lt;div class="_radio_options" data-radio_options_name="${name}">`;

    options.forEach(option => {
        const { label, value, icon, attributes: optionAttributes = [], selected = false } = option;

        const defaultOptionAttributes = {
            class: `_radio_option ${selected ? '_selected' : ''}`,
            'data-radio_option_value': value
        };

        const optionAttrs = {
            ...defaultOptionAttributes,
            ...optionAttributes.reduce((acc, { name, value }) => {
                acc[name] = value;
                return acc;
            }, {})
        };

        output += `
            &lt;div ${generateAttributes(optionAttrs)}>
                &lt;div class="_radio_option_label">
                    ${icon ? `&lt;i class="${icon}">&lt;/i>` : ''}
                    &lt;span>${label}&lt;/span>
                &lt;/div>
                &lt;div class="_radio_option_toggle">&lt;span>&lt;/span>&lt;/div>
            &lt;/div>
        `;
    });

    output += `&lt;input type="hidden" class="_radio_options_value" name="${name}" value="${options.find(option => option.selected)?.value || options[0].value}" required>`;
    output += '&lt;/div>&lt;/div>';
    return output;
}

/**
 * Converts an object of key-value pairs into a string of HTML attributes.
 *
 * @param {Object} attributes - An object representing HTML attributes (e.g., { class: "my-class", id: "main" }).
 * @returns {string} - A space-separated string of HTML attributes.
 */
function generateAttributes(attributes) {
    return Object.entries(attributes)
        .map(([key, value]) => `${key}="${value}"`)
        .join(' ');
}

/**
 * Initializes click behavior for custom-styled radio options.
 *
 * When an option is clicked:
 * - All other options are deselected (`_selected` class removed).
 * - The clicked option is marked as selected (`_selected` class added).
 * - The associated hidden input is updated with the selected value.
 *
 * This logic assumes the structure generated by `generateRadioOptions()`,
 * where each group has a `. _radio_options` container and a hidden input
 * named `._radio_options_value`.
 */
document.addEventListener("DOMContentLoaded", function () {
    document.addEventListener("click", function (e) {
        const option = e.target.closest("._radio_option");
        if (!option) return;

        const optionsContainer = option.closest("._radio_options");
        const radioOptionsInput = optionsContainer.querySelector("._radio_options_value");

        // Deselect all options
        optionsContainer.querySelectorAll("._radio_option").forEach(opt => {
            opt.classList.remove("_selected");
        });

        // Select clicked option
        option.classList.add("_selected");

        // Update hidden input value
        radioOptionsInput.value = option.getAttribute("data-radio_option_value");
    });
});

export const lcsRadioSelectionEvent = true;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Events</h3><ul><li><a href="global.html#event:click">click</a></li></ul><h3>Global</h3><ul><li><a href="global.html#alert">alert</a></li><li><a href="global.html#arrayHasSimilarItems">arrayHasSimilarItems</a></li><li><a href="global.html#capitalizeWords">capitalizeWords</a></li><li><a href="global.html#clearLocalDatabase">clearLocalDatabase</a></li><li><a href="global.html#createCityOptions">createCityOptions</a></li><li><a href="global.html#createCountryOptions">createCountryOptions</a></li><li><a href="global.html#createStateOptions">createStateOptions</a></li><li><a href="global.html#deleteLocalDatabaseData">deleteLocalDatabaseData</a></li><li><a href="global.html#filterArraySimilarItems">filterArraySimilarItems</a></li><li><a href="global.html#generateAttributes">generateAttributes</a></li><li><a href="global.html#generateCodes">generateCodes</a></li><li><a href="global.html#generateConfirmPasswordField">generateConfirmPasswordField</a></li><li><a href="global.html#generateCountrySelection">generateCountrySelection</a></li><li><a href="global.html#generateDropdownOptions">generateDropdownOptions</a></li><li><a href="global.html#generatePillOptions">generatePillOptions</a></li><li><a href="global.html#generateRadioOptions">generateRadioOptions</a></li><li><a href="global.html#getAllCities">getAllCities</a></li><li><a href="global.html#getAllCountries">getAllCountries</a></li><li><a href="global.html#getAllStates">getAllStates</a></li><li><a href="global.html#getCountriesLocalDatabase">getCountriesLocalDatabase</a></li><li><a href="global.html#getCountryCallingCode">getCountryCallingCode</a></li><li><a href="global.html#getCountryCurrencyCode">getCountryCurrencyCode</a></li><li><a href="global.html#getCountryFlag">getCountryFlag</a></li><li><a href="global.html#getCountryISOCode">getCountryISOCode</a></li><li><a href="global.html#getCountryOfficialName">getCountryOfficialName</a></li><li><a href="global.html#getCurrentLocation">getCurrentLocation</a></li><li><a href="global.html#getLocalDatabaseData">getLocalDatabaseData</a></li><li><a href="global.html#initializeLocalDatabase">initializeLocalDatabase</a></li><li><a href="global.html#lcsCloseContainerElement">lcsCloseContainerElement</a></li><li><a href="global.html#lcsDBCache">lcsDBCache</a></li><li><a href="global.html#lcsDropdownOptionSelection">lcsDropdownOptionSelection</a></li><li><a href="global.html#lcsFetchCountrySelectionData">lcsFetchCountrySelectionData</a></li><li><a href="global.html#lcsForm">lcsForm</a></li><li><a href="global.html#lcsFormInputLengthValidation">lcsFormInputLengthValidation</a></li><li><a href="global.html#lcsFormSubmission">lcsFormSubmission</a></li><li><a href="global.html#lcsGetCitiesFromLocalDatabase">lcsGetCitiesFromLocalDatabase</a></li><li><a href="global.html#lcsGetCountriesFromLocalDatabase">lcsGetCountriesFromLocalDatabase</a></li><li><a href="global.html#lcsGetCountryCallingCodeFromLocalDatabase">lcsGetCountryCallingCodeFromLocalDatabase</a></li><li><a href="global.html#lcsGetCountryCurrencyCodeFromLocalDatabase">lcsGetCountryCurrencyCodeFromLocalDatabase</a></li><li><a href="global.html#lcsGetCountryFlagFromLocalDatabase">lcsGetCountryFlagFromLocalDatabase</a></li><li><a href="global.html#lcsGetCountryISOCodeFromLocalDatabase">lcsGetCountryISOCodeFromLocalDatabase</a></li><li><a href="global.html#lcsGetCountryOfficialNameFromLocalDatabase">lcsGetCountryOfficialNameFromLocalDatabase</a></li><li><a href="global.html#lcsGetNonce">lcsGetNonce</a></li><li><a href="global.html#lcsGetStatesFromLocalDatabase">lcsGetStatesFromLocalDatabase</a></li><li><a href="global.html#lcsHideSpinnerOverlay">lcsHideSpinnerOverlay</a></li><li><a href="global.html#lcsPillOptionSelection">lcsPillOptionSelection</a></li><li><a href="global.html#lcsShowHidePasswordEvent">lcsShowHidePasswordEvent</a></li><li><a href="global.html#lcsShowSpinnerOverlay">lcsShowSpinnerOverlay</a></li><li><a href="global.html#lcsStoreCitiesInLocalDatabase">lcsStoreCitiesInLocalDatabase</a></li><li><a href="global.html#lcsStoreCountriesInLocalDatabase">lcsStoreCountriesInLocalDatabase</a></li><li><a href="global.html#lcsStoreCountryCallingCodeInLocalDatabase">lcsStoreCountryCallingCodeInLocalDatabase</a></li><li><a href="global.html#lcsStoreCountryCurrencyCodeInLocalDatabase">lcsStoreCountryCurrencyCodeInLocalDatabase</a></li><li><a href="global.html#lcsStoreCountryFlagInLocalDatabase">lcsStoreCountryFlagInLocalDatabase</a></li><li><a href="global.html#lcsStoreCountryISOCodeInLocalDatabase">lcsStoreCountryISOCodeInLocalDatabase</a></li><li><a href="global.html#lcsStoreCountryOfficialNameInLocalDatabase">lcsStoreCountryOfficialNameInLocalDatabase</a></li><li><a href="global.html#lcsStoreStatesInLocalDatabase">lcsStoreStatesInLocalDatabase</a></li><li><a href="global.html#passwordStrength">passwordStrength</a></li><li><a href="global.html#scrollTo">scrollTo</a></li><li><a href="global.html#sendAjaxRequest">sendAjaxRequest</a></li><li><a href="global.html#storeLocalDatabaseData">storeLocalDatabaseData</a></li><li><a href="global.html#updateLocalDatabaseData">updateLocalDatabaseData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
